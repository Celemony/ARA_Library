<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ARA SDK 2.2.0: Audio Access Controller</title>
<link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="shortcut icon" sizes="16x16" href="./favicon.ico">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="DoxygenStyleSheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ARA_Logo.png" height="50px"/></td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___host___audio___access___controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Audio Access Controller<div class="ingroups"><a class="el" href="group___host___interfaces.html">Host Interfaces</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This interface allows plug-ins to read the audio data from the host in a random access order. It is used from multiple threads, both host and plug-in need to carefully observe the threading rules for each function. The basic design idea is that each audio reader is used single-threaded, but multiple audio readers can work concurrently (even on the same audio source). Audio readers can be considered random access iterators, and like most iterators operate on conceptually constant data structures. If the host changes sample rate, channel count or other audio source properties that the reader relies upon, the plug-in must discard any existing audio readers for the source and later re-create them based on the new configuration. The host can temporarily disable access to the audio source in order to control the exact timing of stopping the readers from accessing the source. Whenever an audio reader is destroyed, the plug-in is responsible for thread safety - it may need to block until a concurrent read operation on the I/O thread has finished. Hosts must take care in their audio reader implementation to avoid potential deadlocks in this situation. Note that when rendering, the audio source will often not be read in a consecutive order - depending on the edits the user applied at audio modification level, the access may jump back and forth quite often. The reader implementation should be optimized accordingly.  <br>                               Host developer using C++ ARA Library can implement the <a class="el" href="group___a_r_a___library___host___dispatch___host___interfaces.html#class_a_r_a_1_1_host_1_1_audio_access_controller_interface" title="Base class for implementing ARAAudioAccessControllerInterface.">ARA::Host::AudioAccessControllerInterface</a>. For plug-in developers this interface is wrapped by the <a class="el" href="group___a_r_a___library___host___dispatch___host___interface___wrappers.html#class_a_r_a_1_1_plug_in_1_1_host_audio_access_controller" title="Wrapper class for the ARAAudioAccessControllerInterface provided by the host.">ARA::PlugIn::HostAudioAccessController</a>. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:struct_a_r_a_audio_access_controller_interface"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___host___audio___access___controller.html#struct_a_r_a_audio_access_controller_interface">ARAAudioAccessControllerInterface</a></td></tr>
<tr class="memdesc:struct_a_r_a_audio_access_controller_interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host interface: audio access controller. As with all host interfaces, the function pointers in this struct must remain valid until all document controllers on the plug-in side that use it have been destroyed.  <a href="group___host___audio___access___controller.html#struct_a_r_a_audio_access_controller_interface">More...</a><br /></td></tr>
<tr class="separator:struct_a_r_a_audio_access_controller_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga203ed67b5cd1930da0d9ac463851f71b"><td class="memItemLeft" align="right" valign="top"><a id="ga203ed67b5cd1930da0d9ac463851f71b"></a>
typedef struct ARAAudioAccessControllerHostRefMarkupType *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___host___audio___access___controller.html#ga203ed67b5cd1930da0d9ac463851f71b">ARAAudioAccessControllerHostRef</a></td></tr>
<tr class="memdesc:ga203ed67b5cd1930da0d9ac463851f71b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the host side representation of an audio access controller (opaque to the plug-in). <br /></td></tr>
<tr class="separator:ga203ed67b5cd1930da0d9ac463851f71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5cd7aca6641c042914cb37960df117ad"><td class="memItemLeft" align="right" valign="top"><a id="ga5cd7aca6641c042914cb37960df117ad"></a>
typedef struct ARAAudioReaderHostRefMarkupType *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___host___audio___access___controller.html#ga5cd7aca6641c042914cb37960df117ad">ARAAudioReaderHostRef</a></td></tr>
<tr class="memdesc:ga5cd7aca6641c042914cb37960df117ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the host side representation of an audio reader (opaque to the plug-in). <br /></td></tr>
<tr class="separator:ga5cd7aca6641c042914cb37960df117ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_a_r_a_audio_access_controller_interface" id="struct_a_r_a_audio_access_controller_interface"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_a_r_a_audio_access_controller_interface">&#9670;&nbsp;</a></span>ARAAudioAccessControllerInterface</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ARAAudioAccessControllerInterface</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Host interface: audio access controller. As with all host interfaces, the function pointers in this struct must remain valid until all document controllers on the plug-in side that use it have been destroyed. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Size-based struct versioning</h3></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp8272db3aa4580fe6b7beb9697d0787b7"></a> See <a class="el" href="group___versioned__structs.html">Versioned structs</a>. </p>
</td></tr>
<tr class="memitem:a61426f9d1842663261bef08b6b5973e6"><td class="memItemLeft" align="right" valign="top"><a id="a61426f9d1842663261bef08b6b5973e6"></a>
<a class="el" href="group___fixed-size__integers.html#ga146f863d090eb0291cb2f6c4d19c373e">ARASize</a>&#160;</td><td class="memItemRight" valign="bottom"><b>structSize</b></td></tr>
<tr class="separator:a61426f9d1842663261bef08b6b5973e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><h3>Synchronous reading: blocking until data is available</h3></td></tr>
<tr class="memitem:a6eb3aefb1475fd67a998dffc313871fb"><td class="memItemLeft" align="right" valign="top"><a id="a6eb3aefb1475fd67a998dffc313871fb"></a>
<a class="el" href="group___host___audio___access___controller.html#ga5cd7aca6641c042914cb37960df117ad">ARAAudioReaderHostRef</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___host___audio___access___controller.html#a6eb3aefb1475fd67a998dffc313871fb">createAudioReaderForSource</a> )(<a class="el" href="group___host___audio___access___controller.html#ga203ed67b5cd1930da0d9ac463851f71b">ARAAudioAccessControllerHostRef</a> controllerHostRef, <a class="el" href="group___model___audio___source.html#gae2713ff3141693215d2b4da01b1ac445">ARAAudioSourceHostRef</a> audioSourceHostRef, <a class="el" href="group___boolean__values.html#ga49ea321bed3e4843a38702d03cc4cff0">ARABool</a> use64BitSamples)</td></tr>
<tr class="memdesc:a6eb3aefb1475fd67a998dffc313871fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create audio reader instance to access sample data in an audio source. The format of the data is matching the format of the audio source, with a choice of reading samples as 32 bit or 64 bit (hosts must support both formats). Similar to the rules for creating content readers, the plug-in may call these functions only from calls in the "Audio Source Management" section of <a class="el" href="group___plug-_in___document___controller.html#struct_a_r_a_document_controller_interface" title="Plug-in interface: document controller. The function pointers in this struct must remain valid until ...">ARADocumentControllerInterface</a> for the particular audio source the call is referring to, or from <a class="el" href="group___plug-_in___document___controller.html#ab4946909515472d8ea4f5f1ee5cac599" title="End an editing session on a document. Note that when receiving this call, the plug-in will update any...">ARADocumentControllerInterface::endEditing()</a> for any audio source. Contrary to content readers, audio readers are long-living objects that are not bound to a certain stack frame. <br /></td></tr>
<tr class="separator:a6eb3aefb1475fd67a998dffc313871fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f519230eccec00362e41a5dfcf4dc5"><td class="memItemLeft" align="right" valign="top"><a id="ab3f519230eccec00362e41a5dfcf4dc5"></a>
<a class="el" href="group___boolean__values.html#ga49ea321bed3e4843a38702d03cc4cff0">ARABool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___host___audio___access___controller.html#ab3f519230eccec00362e41a5dfcf4dc5">readAudioSamples</a> )(<a class="el" href="group___host___audio___access___controller.html#ga203ed67b5cd1930da0d9ac463851f71b">ARAAudioAccessControllerHostRef</a> controllerHostRef, <a class="el" href="group___host___audio___access___controller.html#ga5cd7aca6641c042914cb37960df117ad">ARAAudioReaderHostRef</a> audioReaderHostRef, <a class="el" href="group___common__time-related__data__types.html#ga623fa652713cd673561d7a726d4ea7ac">ARASamplePosition</a> samplePosition, <a class="el" href="group___common__time-related__data__types.html#ga1b086915e249db1c3c76b4695cf86d2e">ARASampleCount</a> samplesPerChannel, void *const buffers[])</td></tr>
<tr class="memdesc:ab3f519230eccec00362e41a5dfcf4dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read audio samples. The samples are provided in non-interleaved buffers of double or float data, depending on whether use64BitSamples was set when creating the reader. The channel count equals the channel count of the audio source. The data alignment and byte order always matches the machine's native layout. If the requested sample range extends beyond the start or end of the audio source, the out-of-range samples should be filled with silence. This should not be treated as an error. This potentially blocking function may be called from any non-realtime thread (including threads for offline rendering), but not from more than one thread per reader at the same time. The host may decide to let the thread sleep until the requested data is available, the plug-in must be designed to deal with this without triggering priority inversion. The target buffer(s) are provided by the caller. Result is kARATrue upon success, or kARAFalse when there is a critical, nonrecoverable I/O error, such as a network failure while the file is being read from a server. In case of failing in this call, the buffers must be filled with silence and the host must notify the user about the problem in an appropriate way. The plug-in must deal gracefully with any such I/O errors, both during analysis and rendering. <br /></td></tr>
<tr class="separator:ab3f519230eccec00362e41a5dfcf4dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce926af694f7f76e4174d55df17e19d"><td class="memItemLeft" align="right" valign="top"><a id="a6ce926af694f7f76e4174d55df17e19d"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___host___audio___access___controller.html#a6ce926af694f7f76e4174d55df17e19d">destroyAudioReader</a> )(<a class="el" href="group___host___audio___access___controller.html#ga203ed67b5cd1930da0d9ac463851f71b">ARAAudioAccessControllerHostRef</a> controllerHostRef, <a class="el" href="group___host___audio___access___controller.html#ga5cd7aca6641c042914cb37960df117ad">ARAAudioReaderHostRef</a> audioReaderHostRef)</td></tr>
<tr class="memdesc:a6ce926af694f7f76e4174d55df17e19d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy given audio reader created by the host. The caller must guarantee that the reader is currently not in use in some other thread. See <a class="el" href="group___host___audio___access___controller.html#a6eb3aefb1475fd67a998dffc313871fb" title="Create audio reader instance to access sample data in an audio source. The format of the data is matc...">ARAAudioAccessControllerInterface::createAudioReaderForSource()</a> about the restrictions when to call this. <br /></td></tr>
<tr class="separator:a6ce926af694f7f76e4174d55df17e19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
